{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>REGISTRATION</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- W3SCHOOL CSS LINK-->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- alertify js -->
   <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
<!-- Default theme -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
 <link rel="stylesheet" href="{%static 'css/reg.css'%}">
</head>
<body>
<div style="width:100%;" class="container">


<form id="regForm" class="regk" name="formval" enctype="multipart/form-data" >
  
 <div class="" style="font-size: large;font-family:'Times New Roman', Times, serif">
  <div class="" style="font-size: larger;font-family:'Times New Roman', Times, serif;font-weight:bold;">
   <div style="">
   <center style="margin-right:cm;"><h1 style="font-weight:bolder;">REGISTER</h1></center>
   <center style="margin-right:cm;"><hr style="width: 10%;height:5px;color:red;"></center>
   <div style="margin-left: 1cm;"> 

   <center style="margin-right:2cm;"><input placeholder="TEAM NAME" id="tname" class="tname" style="width: 4cm;" name="teaname" required></center><br>
   <input required type="text" id="mem1"style="width:4cm;" placeholder="MEMBER 1" name="me1"/>
    <input required type="email" id="mem2"style="width:4cm;" placeholder="EMAIL"name="mem"/>
    <input required type="tel" id="mem3"style="width:4cm;"  placeholder="PHONE" name="meph"/>
    <input required type="text" id="mem4"style="width:4cm;" placeholder="COLLEGE" name="meco"/>
    <input required type="text" id="mem5"style="width:4cm;" placeholder="BRANCH" name="mebr"/>
  <br>
  <br>
    <input type="text" id="mem6"style="width:4cm;" placeholder="MEMBER 2"/>
    <input type="email" id="mem7"style="width:4cm;" placeholder="EMAIL"/>
    <input type="tel" id="mem8"style="width:4cm;" placeholder="PHONE"/>
    <input type="text" id="mem9"style="width:4cm;" placeholder="COLLEGE"/>
    <input type="text" id="mem10"style="width:4cm;" placeholder="BRANCH"/>
<br><br>
 <input type="text" id="mem11"style="width:4cm;" placeholder="MEMBER 3"/>
    <input type="email" id="mem12"style="width:4cm;" placeholder="EMAIL"/>
    <input type="tel" id="mem13"style="width:4cm;" placeholder="PHONE"/>
    <input type="text" id="mem14"style="width:4cm;" placeholder="COLLEGE"/>
    <input type="text" id="mem15"style="width:4cm;" placeholder="BRANCH"/>
<br><br>
 <input type="text" id="mem16"style="width:4cm;" placeholder="MEMBER 4"/>
    <input type="email" id="mem17"style="width:4cm;" placeholder="EMAIL"/>
    <input type="tel" id="mem18"style="width:4cm;" placeholder="PHONE"/>
    <input type="text" id="mem19"style="width:4cm;" placeholder="COLLEGE"/>
    <input type="text" id="mem20"style="width:4cm;" placeholder="BRANCH"/>
<br><br>
</div>
<center> <p style="font-weight:bolder;font-size:32px;"> <i class="fa fa-gift" style="font-size:48px;color:#fc26c3;"></i> Choose any two or more events to get Discount of 30%</p></center>

<div class="jh">
   <center style="margin-right:0cm;"><h1 style="font-weight:bolder;">NON ROBOTIC</h1><p>(TWO MEMBERS PER TEAM)</p> </center>
   

   <center style="margin-right:cm;"><hr style="width: 10%;height:5px;color:red;"></center>

<div class="form-check">
  <input class="form-check-input" type="checkbox"  id="flexCheckDefau" name="checj" value="200#PAPER PRESENTATION" >
  <label class="form-check-label" for="flexCheckDefau">
    PAPER PRESENTATION (₹ 200)
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" id="flexCheckDefaul" style="" name="chec2" value="200#HOBBY PROJECT" >
  <label class="form-check-label" for="flexCheckDefaul" style="font-size: 20.5px;">
    HOBBY PROJECT (₹ 200)
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox"  id="flexCheckDe" name="chec3" value="200#HACKATHON&nbsp;" >
  <label class="form-check-label" for="flexCheckDe">
    HACKATHON (₹ 200)
  </label>
</div>
</div>
<br>
<br>
<div class="jh" style="">
<div class="form-check" style="align-items:center;">

   <center style="margin-right:cm;"><h1 style="font-weight:bolder;">ROBOTIC</h1> <p>(FOUR MEMBERS PER TEAM)</p> </center>

   <center style="margin-right:cm;"><hr style="width: 10%;height:5px;color:red;"></center>

  <input class="form-check-input" type="checkbox"  id="flexCheckD" name="chec1" value="400#ROBO SOCCER">
  <label class="form-check-label" for="flexCheckD">
    ROBO SOCCER (₹ 400)
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" id="flexCheck" name="chec2" value="400#MAZE RUNNER">
  <label class="form-check-label" for="flexCheck">
    MAZE RUNNER (₹ 400)
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox"  id="flexChec" name="chec3" value="400#LINE FOLLOWER" >
  <label class="form-check-label"  style="font-size:20.3px;" for="flexChec">
    LINE FOLLOWER (₹ 400)
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox"  id="flexChe" name="chec3" value="400#ROBO RACE" >
  <label class="form-check-label" for="flexChe">
    ROBO RACE (₹ 400)
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox"  id="flexCh" name="chec3" value="400#SUMO WAR&nbsp;" >
  <label class="form-check-label" for="flexCh">
    SUMO WAR (₹ 400)
  </label>
  
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox"  id="flexC" name="chec3" value="500#DEAD METAL" >
  <label class="form-check-label" for="flexC">
    DEAD METAL (₹ 500)
  </label>
  
</div>

</div>
<br>
<br>
<div>
    <center> <label for="amount1" style="color: red;margin-left:0.8cm; " > TOTAL AMOUNT</label> </center> 
    <center><label id="panel" style="display:none;margin-left:1cm;margin-top:cm; color:rgb(62, 0, 119);">!!! 30% DISCOUNTED PRICE !!!</label></center>

     
     <center ><input  class="" readonly type="text" id="amount" style="width:5cm; background-color:rgb(221, 221, 201);margin-right:cm;font-size:30px;"  name="amount"/></center>
     <input  readonly type="text" id="eventname" style="width:8cm;" readonly hidden placeholder="" name="eventname"/>
     <br>
     <br>

<center><p style="font-weight:bolder;font-size:larger;color:rgb(89, 0, 255);">!!! &nbsp;Make Payment using below Details After filling details above &nbsp;!!!</p></center>

<div style="text-align:center; width:100%;height:100%; margin-left:0%;border:none; background-color:rgb(249, 255, 255);" class="card">
  
  <center><h2 style="font-family: roman;text-decoration:underline;color:rgb(173, 7, 7);font-weight:bolder;">BANK DETAILS</h2></center>
  <label for="" style="font-size:25px;">Account Holder Name : <span style="color: rgb(173, 7, 7);"> AbBC,JNNCE, Shivamogga </span></label>
  <label for="" style="font-size:25px;">Account Number : <span style="color: rgb(173, 7, 7);"> 00000000000 </span></label>
  <label for="" style="font-size:25px;">IFSC Code : <span style="color: rgb(173, 7, 7);"> 000000000000 </span></label>
  <label for="" style="font-size:28px;">Bank name and Address :<span style="color: rgb(173, 7, 7);font-size:22px;"> <br> ABC BANK <br> JNNCE,CAMPUS <br>SHIMOGA</span></label>



</div>
<br>

      
</div>
   </div>
     <!-- <center style="margin-right: 4cm;"><span>ACCOMODATION :</span></center> -->

   </div>
   <br>
   <br>

<center><h1 style="font-size: 40px;font-weight:bold;font-family:roman;">PAYMENT DETAILS</h1></center>
   <center style="margin-right:cm;"><hr style="width: 20%;height:5px;color:red;"></center>

<br>
<br>
<div style="margin-left: -2cm;">
<div class="j182" style="margin-left: 2cm; font-size:20px;">
    <label for="" style="margin-left: 2cm;margin-top:cm;">Paid Amount :</label>
    <input type="number" name="pd" id="paidamount" placeholder="" style="width:5cm;margin-top:-2cm;margin-right:1cm;" required>
    <br>
    <br>
    
   
    <label for="" style="margin-left: 2cm;background:none;">Payment Mode:</label> 
    <select id='act' style="margin-left: 20px;background:none;"   onchange="update()" name="cj" required>
   
<option value="upi">UPI</option>
<option value="bank">Bank Transfer</option>
<option value="neft">NEFT</option>
 <option value="rtgs">RTGS</option>
 </select>
  <input type="text" id="selected" readonly hidden>
 <br>
    <br> <label for="" style="margin-left: 2cm;">UPI TransacID/UTR Number :</label>
    <input type="text" name="nu" id="utrno" placeholder="" style="width:5cm;" required>
  <br>
  <br>
  <label for="" style="margin-left: 2cm;">Payment Date :</label>
    <input type="date" name="pi" id="pdate" placeholder="" style="width:5cm;" required>
  <br>
  <br>
     <label for="" style="margin-left: 2cm;">Paid by :</label>
    <input type="text" name="pby" id="paidby" placeholder="" style="width:5cm;" required>
<br>
<br>
     <label for="" style="margin-left: 2cm;">Screenshot of Payment :</label>

<input type="file" name="kn" id="image_to_upload" style="width: 6cm; border:none; border-bottom:1px solid black;" accept=".jpg, .jpeg, .png" required />
<br>
<br>    
<label for="" style="margin-left: 2cm;background-color:white;font-weight:bold;">Accomodation:</label> 
    <select id='accom' style="margin-left: 20px;background:none;"   onchange="update1()" name="cj" required>
   
<option value="0"></option>
<option value="YES">YES</option>
<option value="NO">NO</option>

 </select> 

 <br>
 
 <center><span style="color:red;font-size:24px;">(Lodging and food will be provided on Chargeable basis, exclusive of Registration fees)</span></center>
  <input type="text" id="selected1" readonly hidden >
</div>
</div>
<br>
<br>
<br>
 
  <div style="overflow:auto;">
    <div >
      
  <center><button type="submit" id="sBtn"  class="subm btn btn-success"  style="margin-right: 2cm;width:7cm;height:40px;" onclick="myFunction()" >Submit</button></center>
      <p id="kn"></p>
    </div>
  </div>
  <!-- Circles which indicates the steps of the form: -->

<div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
   

  </div>




</form>



</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script type="text/javascript">


function update() {
				var select = document.getElementById('act');
				var option = select.options[select.selectedIndex];

				
				document.getElementById('selected').value = option.text;
			}

			update();
function update1() {
				var select = document.getElementById('accom');
				var option = select.options[select.selectedIndex];

				
				document.getElementById('selected1').value = option.text;
}

			update1();




  
$('input:checkbox').change(function ()
{
      var name = [];
      var totalname = [];
      var s = [];
      var inr = '₹';
      

      var total = 0;
      
      $('input:checkbox:checked').each(function(){
        d=$(this).val()
        a=d.split("#")
       total += parseInt(a[0]);
       
       //alert(a[1])
       //if(!a[1].includes("undefined"))
       totalname+=a[1]+",";
       le = totalname.length;
       
       
     
      if(le > 19 ){
        dis = (30*total)/100;
        discounted_price = (total-dis);
       
        disstr = discounted_price.toString()
        ds = inr + ' '+ disstr
        
      $("#amount").val(ds);
          $('#panel').show();
  
      }
      else{
        totstr = total.toString()
        totalinr = inr + ' '+ totstr
      $("#amount").val(totalinr);
          $('#panel').hide();

      }
    
       $("#eventname").val(totalname);

      
      
     
      });   
  
      $("input[type=text]", total).val('');
      });
      
      
  
     

</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>

$(document).ready(function(){
    $('#regForm').submit(function(e){
      e.preventDefault()      
        var tname = $("#tname").val();
        var mem1 = $("#mem1").val();
        var mem2 = $("#mem2").val();
        var mem3 = $("#mem3").val();
        var mem4 = $("#mem4").val();
        var mem5 = $("#mem5").val();
        var mem6 = $("#mem6").val();
        var mem7 = $("#mem7").val();
        var mem8 = $("#mem8").val();
        var mem9 = $("#mem9").val();
        var mem10 = $("#mem10").val();
        var mem11 = $("#mem11").val();
        var mem12 = $("#mem12").val();
        var mem13 = $("#mem13").val();
        var mem14 = $("#mem14").val();
        var mem15 = $("#mem15").val();
        var mem16 = $("#mem16").val();
        var mem17 = $("#mem17").val();
        var mem18 = $("#mem18").val();
        var mem19 = $("#mem19").val();
        var mem20 = $("#mem20").val();


        var amount = $("#amount").val();
        var eventname = $("#eventname").val();

        var member1=$("#member1").val();

        var paidamount=$("#paidamount").val();
        var selected=$("#selected").val()
        var utrno=$("#utrno").val()
        var pdate=$("#pdate").val()
        var paidby=$("#paidby").val()
        var files = $('#image_to_upload')[0].files[0];
        var selected1 =$("#selected1").val();

        var fd = new FormData(); 
        fd.append('tname',tname)
        fd.append('mem1',mem1)
        fd.append('mem2',mem2)
        fd.append('mem3',mem3)
        fd.append('mem4',mem4)
        fd.append('mem5',mem5)
        fd.append('mem6',mem6)
        fd.append('mem7',mem7)
        fd.append('mem8',mem8)
        fd.append('mem9',mem9)
        fd.append('mem10',mem10)
        fd.append('mem11',mem11)
        fd.append('mem12',mem12)
        fd.append('mem13',mem13)
        fd.append('mem14',mem14)
        fd.append('mem15',mem15)
        fd.append('mem16',mem16)
        fd.append('mem17',mem17)
        fd.append('mem18',mem18)
        fd.append('mem19',mem19)
        fd.append('mem20',mem20)
        fd.append('amount',amount)
        fd.append('eventname',eventname)
        fd.append('paidamount',paidamount)
        fd.append('selected',selected)
        fd.append('utrno',utrno)
        fd.append('pdate',pdate)
        fd.append('paidby',paidby)
        fd.append('fl', files)
        fd.append('selected1',selected1)
        fd.append('csrfmiddlewaretoken',"{{csrf_token}}")


        $.ajax({ 
                    url: 'http://127.0.0.1:8000/regval/', 
                    type: 'post', 
                    data: fd, 
                   
                    contentType: false, 
                    processData: false, 
                    success: function(response){ 
                      swal("Thank you for your response","confirmation Email will be sent within 48 Hrs");
                      
                    }, 
                }); 
   
        
       
      
});
});
</script>
		
